// Generated by CoffeeScript 1.6.3
(function() {
  'use strict';
  var Controller;

  Controller = (function() {
    function Controller($stateParams, newsService, readService) {
      this.kindergarten = {
        id: 1,
        name: 'school23'
      };
      this.user = {
        id: 1,
        name: '豆瓣'
      };
      this.news = newsService.get({
        kg: this.kindergarten.name,
        news_id: $stateParams.news
      });
      this.readNews = readService.bind({
        kg: this.kindergarten.name,
        parent_id: this.user.id
      }).query();
      _.each(_.intersection(this.readNews, this.news), function(news) {
        return news.read = true;
      });
    }

    return Controller;

  })();

  angular.module('app').controller('NewsCtrl', ['$stateParams', 'newsService', 'readService', Controller]);

}).call(this);
