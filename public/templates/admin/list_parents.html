<div class="panel-body">
  <span>检索：</span>
  <input ng-model="searchText"/>
  <span>输入电话号码，家长姓名等进行过滤</span>
  <!--<a class="btn btn-primary pull-right" ng-href="#/kindergarten/93740362/parents/new_child">添加小孩</a>-->

  <a class="btn btn-primary pull-right adding-button" ng-click="newParent()">添加</a>
</div>

<table class="table table-hover table-condensed">
  <thead>
  <tr class="row">
    <th class=".col-xs-1">#</th>
    <th class=".col-xs-4">电话号码</th>
    <th class=".col-xs-3">家长姓名</th>
    <th class=".col-xs-3">小孩姓名</th>
    <th class=".col-xs-2">操作</th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="parent in parents | filter: searchText" class="row" tooltip-placement="top" tooltip="单击开始编辑">
    <td class=".col-xs-1">{{parent.id}}</td>

    <td class=".col-xs-4" ng-if="editingId != parent.id" ng-click="startEditing(parent)">{{parent.phone | phone}}</td>
    <td class=".col-xs-3" ng-if="editingId != parent.id" ng-click="startEditing(parent)">{{parent.name}}</td>
    <td class=".col-xs-2" ng-if="editingId != parent.id" ng-click="startEditing(parent)">{{parent.child.nick}}</td>

    <td class=".col-xs-4" ng-if="editingId == parent.id"><input type="text" ng-model="parent.phone"
                                                                ui-mask="{{'999-9999-9999'}}"
                                                                class="editing-field form-control"/></td>
    <td class=".col-xs-3" ng-if="editingId == parent.id"><input ng-model="parent.name"
                                                                class="editing-field form-control"/></td>
    <td class=".col-xs-2" ng-if="editingId == parent.id"><input ng-model="parent.child.nick"
                                                                class="editing-field form-control"/></td>
    <td class=".col-xs-2">
      <button class="btn btn-xs btn-warning" ng-click="startEditing(parent)">编辑</button>
      <button class="btn btn-xs btn-danger" ng-confirm-msg="你确定要删除吗?"
              ng-confirm-click="delete(parent)">删除 </button>
    </td>
  </tr>
  </tbody>
</table>