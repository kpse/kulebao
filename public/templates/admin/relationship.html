<div class="panel panel-default">
  <div class="panel-heading">使用卡片增加亲属关系</div>
  <div class="panel-body">
    <span>检索：</span>
    <input ng-model="searchText"/>
    <span>输入电话号码，姓名，卡号等进行过滤</span>

  </div>

  <div class="loading" ng-show="loading"/>
  <button class="btn btn-primary" ng-click="newParent()">创建家长</button>
  <button class="btn btn-success" ng-click="newChild()">创建小孩</button>
  <button class="btn btn-warning" ng-click="newRelationship()">关联小孩和家长</button>
  <table class="table table-hover table-condensed">
    <thead>
    <tr class="row">
      <th class=".col-xs-1">卡号</th>
      <th class=".col-xs-2">班级</th>
      <th class=".col-xs-3">小孩姓名</th>
      <th class=".col-xs-3">家长姓名</th>
      <th class=".col-xs-4">电话号码</th>
      <th class=".col-xs-2">关系</th>

      <th class=".col-xs-2">操作</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="r in relationships | filter: searchText | orderBy: 'child.className' " class="row">
      <td class=".col-xs-1">{{r.card}}</td>
      <td class=".col-xs-2">{{r.child.className}}</td>
      <td class=".col-xs-2"><a ng-click="editChild(r.child)">{{r.child.name}}</a></td>
      <td class=".col-xs-3"><a ng-click="editParent(r.parent)">{{r.parent.name}}</a></td>
      <td class=".col-xs-4">{{r.parent.phone | phone}}</td>
      <td class=".col-xs-2">{{r.relationship}}</td>


      <td class=".col-xs-2">
        <button class="btn btn-xs btn-danger" ng-confirm-msg="你确定要删除吗?"
                ng-confirm-click="delete(parent)">删除
        </button>
        <button class="btn btn-xs btn-info" ng-click="sendMessage(r, 0)">到校刷卡
        </button>
        <button class="btn btn-xs btn-warning" ng-click="sendMessage(r, 1)">离开刷卡
        </button>
        </button>
      </td>
    </tr>
    </tbody>
  </table>

</div>