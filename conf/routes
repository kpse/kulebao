# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET           /                                                                  controllers.Application.index
GET           /admin                                                             controllers.Application.admin

POST          /login.do                                                          controllers.Authentication.login
POST          /checkphonenum.do                                                  controllers.Authentication.validateNumber
POST          /receiveBindInfo.do                                                controllers.Authentication.bindNumber

#anglarjs template pages
GET           /templates/*file                                                   controllers.Static.at(path="/public/templates", file)
GET           /*college/templates/*file                                          controllers.Static.ignoreCollege(path="/public/templates", file, college)

GET           /kindergarten/:kg/preview                                          controllers.SchoolSummaryController.preview(kg: String)
GET           /kindergarten/:kg/detail                                           controllers.SchoolSummaryController.detail(kg: String)

GET           /kindergarten/:kg/news                                             controllers.NewsController.index(kg: Long, from: Option[Long], to: Option[Long], most:Option[Int])
GET           /kindergarten/:kg/news/:newsId                                     controllers.NewsController.show(kg: Long, newsId: Long)
POST          /kindergarten/:kg/news/:newsId                                     controllers.NewsController.update(kg: Long, newsId: Long)
DELETE        /kindergarten/:kg/news/:newsId                                     controllers.NewsController.deleteOne(kg: Long, newsId: Long)
GET           /kindergarten/:kg/admin/:adminId/news                              controllers.NewsController.indexWithNonPublished(kg: Long, adminId: Long)
POST          /kindergarten/:kg/admin/:adminId/news                              controllers.NewsController.create(kg: Long, adminId: Long)
POST          /kindergarten/:kg/admin/:adminId/news/:newsId                      controllers.NewsController.adminUpdate(kg: Long, adminId: Long, newsId: Long)
DELETE        /kindergarten/:kg/admin/:adminId/news/:newsId                      controllers.NewsController.delete(kg: Long, adminId: Long, newsId: Long)

GET           /kindergarten/:kg/parent                                           controllers.ParentController.index(kg: Long)
POST          /kindergarten/:kg/parent                                           controllers.ParentController.create(kg: Long)
POST          /kindergarten/:kg/parent/:parentId                                 controllers.ParentController.update(kg: Long, parentId: Long)
DELETE        /kindergarten/:kg/parent/:parentId                                 controllers.ParentController.delete(kg: Long, parentId: Long)

GET           /kindergarten/:kg/parent/:parentId/news                            controllers.ReadingNewsController.index(kg: Long, parentId: String)
POST          /kindergarten/:kg/parent/:parentId/news/:newsId                    controllers.ReadingNewsController.create(kg: Long, parentId: Long, newsId: Long)

GET           /kindergarten/:kg/parent/:parentId/child                           controllers.ChildController.index(kg: Long, parentId: String)
GET           /kindergarten/:kg/parent/:parentId/child/:childId                  controllers.ChildController.show(kg: Long, parentId: String, childId: Long)

GET           /kindergarten/:kg/admin/:adminId/news_reading_count/:newsId        controllers.ReadingNewsController.countReading(kg: Long, adminId: Long, newsId: Long)


GET           /kindergarten/:kg/account                                          controllers.AccountController.index(kg: Long)

GET           /kindergarten/:kg/class/:classId/schedule/preview                  controllers.ScheduleController.preview(kg: Long, classId: Long)
GET           /kindergarten/:kg/class/:classId/schedule/:scheduleId              controllers.ScheduleController.show(kg: Long, classId: Long, scheduleId: Long)

GET           /kindergarten/:kg/cookbook/preview                                 controllers.CookbookController.preview(kg: Long)
GET           /kindergarten/:kg/cookbook/:cookbookId                             controllers.CookbookController.show(kg: Long, cookbookId: Long)

GET           /ws/swipe                                                          controllers.WSController.call
POST          /ws/swipe                                                          controllers.WSController.sendMessage

POST          /ws/broadcast                                                      controllers.WSController.sendBroadcastMessage

# Map static resources from the /public folder to the /assets URL path
GET           /assets/*file                                                      controllers.Assets.at(path="/public", file)